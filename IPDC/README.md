# IPDC – Supplementary Materials

## Overview / 概要
This paper introduces the Information Phase Difference (Δφ) and the Information Lock Coefficient ($R_{lock}$) as novel metrics for quantifying the certainty of information within the framework of Dimensional Infinite Regression Theory (DIRT). The analysis involves extracting phase information from three key time-series indicators—Information Potential $I(t)$, its time derivative $dc/dt$, and a prime number-based structural intensity κ(p)—using Fast Fourier Transform (FFT). The statistical properties of the resulting phase difference Δφ are then examined. Furthermore, a photon scattering simulation is conducted to investigate the relationship between $R_{lock}$ and physical factors such as scattering intensity and detection delay, thereby validating its theoretical basis. By incorporating the proposed $R_{lock}$ into DIRT's fundamental equations, this research redefines observed energy and effective mass density, presenting a framework that describes the continuous transition between energy and mass states of matter in DIRT cosmology.

本論文では、次元無限回帰理論（DIRT）の枠組みに基づき、宇宙における情報の確からしさを評価する新たな指標として、空間モードと時間モードの位相差 Δφ を定量化し、情報ロック係数 $R_{lock}$ を導入します。本研究では、まず3つの主要指標（情報ポテンシャル $I(t)$、その時間変化率 $dc/dt$、素数密度に基づく指標 κ(p)）の時空間的振る舞いを高速フーリエ変換（FFT）を用いて解析し、各位相情報を抽出します。次に、これらの位相情報から算出される位相差 Δφ の統計的性質を検証します。さらに、光子散乱シミュレーションを通じて、$R_{lock}$ が媒質内での散乱強度や検出遅延といった物理的要因とどのように関連するかを調査し、その理論的妥当性を検討します。提案された $R_{lock}$ をDIRTの基本方程式に組み込み、観測エネルギーや実効質量密度を再定義することで、DIRT宇宙論における物質のエネルギー状態と質量状態の連続的な移行を記述する枠組みを提示します。

---

## Code / コード内容
The `/Code/` directory contains the Jupyter Notebook used for the entire analysis.

`/Code/` ディレクトリには、全解析に使用した Jupyter Notebook が含まれています。

**`ipdc_analysis.ipynb`**
* **Description**: This notebook contains a series of Python scripts for data loading, analysis, simulation, and visualization. Key analyses include FFT for various time series, calculation of phase difference Δφ, UMAP for dimensionality reduction and visualization, statistical testing (Chi-squared test), and a Monte Carlo simulation of photon scattering to model the $R_{lock}$ coefficient.
* **Dependencies**: `numpy`, `pandas`, `matplotlib`, `scipy`, `sympy`, `scikit-learn`, `umap-learn`, `Pillow`, `pytesseract`, `PyMuPDF`.
* **How to Run**: Open the notebook in a Jupyter environment (like Jupyter Lab or Google Colab) and execute the cells sequentially. Ensure that all data files listed in the `/Data/` section are placed in a `Data` subdirectory. For external datasets, please download them from the sources listed below.

* **内容**: データ読み込み・解析・シミュレーション・可視化を行う一連のPythonスクリプトが含まれています。主要な解析として、各種時系列データのFFT、位相差Δφの計算、次元削減と可視化のためのUMAP、統計検定（カイ二乗検定）、そして$R_{lock}$係数をモデル化するための光子散乱モンテカルロシミュレーションが実行されます。
* **依存ライブラリ**: `numpy`, `pandas`, `matplotlib`, `scipy`, `sympy`, `scikit-learn`, `umap-learn`, `Pillow`, `pytesseract`, `PyMuPDF`
* **実行方法**: Jupyter環境（Jupyter Lab, Google Colabなど）でノートブックを開き、セルを順番に実行してください。`/Data/`セクションに記載されている全てのデータファイルが`Data`サブディレクトリに配置されていることを確認してください。外部データセットについては、下記の配布元からダウンロードをお願いします。

---

## Data / データ概要
The `/Data/` directory contains the datasets generated by and for `ipdc_analysis.ipynb`.

`/Data/` ディレクトリには、`ipdc_analysis.ipynb` によって、またそのために生成されたデータセットが含まれています。

| File name / ファイル名 | Purpose / 役割 | Typical shape / dtype |
| :--- | :--- | :--- |
| `info_potential.npy` | Information potential time series $I(t)$ / 情報ポテンシャル時系列 $I(t)$ | `(N,)`, `float64` |
| `dc_dt.npy` | Time derivative of info-potential $dI/dt$ / 情報ポテンシャルの時間微分 $dI/dt$ | `(N,)`, `float64` |
| `kappa_list.npy` | Structural intensity time series κ(p)(t) / 構造強度時系列 κ(p)(t) | `(N,)`, `float64` |
| `y_data.npy` | Time axis for the series / 各時系列データの時間軸 | `(N,)`, `float64` |
| `phase_lists.pkl` | Contains spatial (φ_s) and temporal (φ_t) phases / 空間(φ_s)と時間(φ_t)の位相 | `dict` |
| `umap_embedding.npy` | 2D coordinates from UMAP dimensionality reduction / UMAPによる2次元座標 | `(N, 2)`, `float64` |
| `cluster_labels.npy` | Cluster labels from DBSCAN analysis / DBSCANによるクラスタラベル | `(N,)`, `int32` |
| `peak_table.csv` | Top 3 frequency peaks from FFT / FFT解析による上位3周波数ピーク | `DataFrame` |
| `phase_stats.json` | Chi-squared statistics for phase difference Δφ / 位相差Δφのカイ二乗統計量 | `json` |
| `materials.db` | SQLite DB with material properties (e.g., Fe, Feather) / 物質特性DB (鉄, 羽根) | `sqlite3` |
| `energy_bins.npy` | Energy-bin edges for the low range / 低エネルギー帯のエネルギー境界配列 | `(N+1,)`, `float64` |
| `energy_bins_hi.npy` | Energy-bin edges for the high range / 高エネルギー帯のエネルギー境界配列 | `(M+1,)`, `float64` |
| `counts_obs.npy`| Observed event counts (low + high) / 観測イベント数（低＋高エネルギー） | `(N+M,)`, `int32` |
| `spec_obs.npy` | Observed spectrum data / 観測スペクトルデータ | `array`, `float64` |
| `hi_ref.npy` | Model spectrum on the high-energy side / 高エネルギー側のモデルスペクトル | `(M,)`, `float64` |
| `mcmc_chain.npy` | MCMC chain results for parameter fitting / パラメータフィットのMCMC連鎖 | `(steps, walkers, params)`, `float64` |

### External Datasets / 外部データセット
The following datasets are required for the analysis but are not included in this repository due to their size or licensing. Please download them from the original sources linked below.

以下のデータセットは解析に必要ですが、サイズやライセンスの都合上、このリポジトリには含まれていません。お手数ですが、下記の配布元からダウンロードしてください。

* **`IC86_II_effectiveArea.csv`**
    * **Description**: IceCube-86 Gen2 effective area data.
    * **Source**: [Harvard Dataverse - IceCube-Gen2 Monte Carlo Simulation Data](https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/VKL316)

* **`numu_cc.csv`**, **`numubar_cc.csv`**
    * **Description**: Neutrino and antineutrino charged-current cross-section data for the IceCube Upgrade.
    * **Source**: [IceCube Data Releases - IceCube Upgrade Neutrino Monte Carlo Simulation](https://icecube.wisc.edu/data-releases/2020/04/icecube-upgrade-neutrino-monte-carlo-simulation/)

* **`FinalFluxs20.dat`**, **`FinalFluxs22.dat`**
    * **Description**: Supernova (SN II-P) neutrino flux model templates.
    * **Source**: [GitHub - pegasuskmurase/ModelTemplates/SNHEMM/II-P_noCCSM](https://github.com/pegasuskmurase/ModelTemplates/tree/main/SNHEMM/II-P_noCCSM)

* **`spl-ally-20-01-solmin.d`**
    * **Description**: Honda atmospheric neutrino flux model data (solar minimum).
    * **Source**: [M. Honda's Homepage - Atmospheric neutrino flux calculation](http://www-rccn.icrr.u-tokyo.ac.jp/mhonda/public/nflx2014/index.html)

---

## Quick-Start Script / クイックスタート
The following Python code snippet loads the necessary data to visualize the phase difference (Δφ) in the UMAP-reduced 2D space, which is one of the key results of this study.

以下のPythonコードは、本研究の主要な結果の一つである「UMAPで2次元に削減された空間における位相差（Δφ）のヒートマップ」を可視化するためのデータ読み込みとプロットのサンプルです。

```python
import numpy as np
import matplotlib.pyplot as plt
import pickle
import gzip

# --- Load core data from the Data subdirectory ---
data_dir = "Data/"
umap_coords = np.load(data_dir + "umap_embedding.npy")

with gzip.open(data_dir + "phase_lists.pkl", "rb") as f:
    phase_data = pickle.load(f)

phi_s = np.array(phase_data["phi_s"])
phi_t = np.array(phase_data["phi_t"]["info_potential"])

# --- Calculate phase difference Δφ and wrap to [-π, π] ---
delta_phi = (phi_s - phi_t + np.pi) % (2 * np.pi) - np.pi

# --- Create heatmap plot ---
plt.figure(figsize=(8, 7))
sc = plt.scatter(
    umap_coords[:, 0],
    umap_coords[:, 1],
    c=delta_phi,
    cmap="twilight",  # Use a cyclic colormap for phase data
    s=10,
    alpha=0.7
)

cbar = plt.colorbar(sc)
cbar.set_label("Phase Difference Δφ (radians)")
plt.title("Δφ Heatmap in UMAP Space")
plt.xlabel("UMAP Component 1")
plt.ylabel("UMAP Component 2")
plt.grid(True, linestyle='--', alpha=0.5)
plt.tight_layout()
plt.show()